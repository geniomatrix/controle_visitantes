{% extends "base.html" %}

{% load widget_tweaks %}

{% block conteudo %}
<div class="container">
    <div class="card shadow mb-4">
        <div class="card-body">
            <h4 class="mb-3 text-primary">
                Controle de Sócios - Aproxime a carteirinha do leitor de código de barras
            </h4>
            <p class="card shadow mb-4 text-danger">
                <small>
                    *Entrada permitida somente de sócios
                </small>        
            </p>   
            
            {% if form.errors %}
                {% for field in form %}
                    {% if field.errors %}
                        {% for erro in field.errors %}
                            <div class="alert alert-warning" role="alert"> 
                                {{ erro }}
                            </div>
                        {% endfor %}        
                    {% endif %}
                {% endfor %}

            {% endif %}
                        
            <form method="get" action="{% url 'search_socio' %}">
                {{ form }}
                  <button type="submit">Buscar</button>
            </form>
                
            {% if results %}
                <ul>
                    {% for socio in results %}
                        <li> {{ socio.id }} - {{ socio.nrcart }} - {{ socio.nome }}</li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>Nenhum resultado encontrado.</p>
            {% endif %}            
        </div>
    </div>
</div>
{% endblock conteudo %}




